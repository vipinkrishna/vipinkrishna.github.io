{"version":3,"sources":["components/Pincodes.js","components/Age.js","components/Dose.js","components/Commands.js","Dashboard.js","index.js"],"names":["Pincodes","pincodes","setPincodes","className","type","defaultValue","placeholder","onChange","e","pincodesArray","target","value","trim","split","shift","length","pop","Age","setAge","Dose","setDose","Commands","findHandler","stopHandler","onClick","Dashboard","clear","processing","abort","useState","age","dose","today","Date","dates","i","push","toLocaleDateString","day","month","year","setDate","getDate","session_counter","counter","wait","milliseconds","Promise","settle","setTimeout","context","window","AudioContext","console","info","a","log","number","slice","toString","pincode","clearTimeout","date","endpoint","response","fetch","ok","Error","statusText","warn","message","json","sessions","session","datestamp","address","available_capacity","available_capacity_dose1","available_capacity_dose2","vaccine","min_age_limit","beep","vaccineFinder","duration","oscillator","createOscillator","gain","createGain","connect","destination","frequency","start","currentTime","stop","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wXAmBeA,EAhBE,SAAC,GAA8B,EAA5BC,SAA6B,IAAnBC,EAAkB,EAAlBA,YAS1B,OACI,qBAAKC,UAAU,WAAf,SACI,uBAAOC,KAAK,OAAOC,aAAa,iBAAiBF,UAAU,gBAAgBG,YAAY,cAAcC,SAVrF,SAACC,GACrB,IACIC,EADaD,EAAEE,OAAOC,MACGC,OAAOC,MAAM,QACzCJ,EAAc,IAAMA,EAAcK,SAClCL,EAAcA,EAAcM,OAAS,IAAMN,EAAcO,MAC1Dd,EAAYO,SCMLQ,G,MAZH,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACX,OACI,qBAAKf,UAAU,MAAf,SACI,yBAAQA,UAAU,aAAaI,SAAU,SAACC,GAAD,OAAOU,EAAOV,EAAEE,OAAOC,QAAhE,UACI,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,gBACA,wBAAQA,MAAM,KAAd,uBCKDQ,G,MAXF,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACZ,OACI,qBAAKjB,UAAU,OAAf,SACI,yBAAQA,UAAU,cAAcI,SAAU,SAACC,GAAD,OAAOY,EAAQZ,EAAEE,OAAOC,QAAlE,UACI,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,SAAd,2BCMDU,G,MAXE,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,YAC7B,OACI,qBAAKpB,UAAU,WAAf,SACI,sBAAKA,UAAU,UAAf,UACI,wBAAQA,UAAU,cAAcqB,QAASF,EAAzC,kBACA,wBAAQnB,UAAU,cAAcqB,QAASD,EAAzC,yBCwIDE,MAzIf,WAEE,IAAIC,EACAC,GAAa,EACbC,GAAQ,EAJO,EAMaC,mBAAS,CAAC,OAAQ,SAN/B,mBAMZ5B,EANY,KAMFC,EANE,OAOG2B,mBAAS,IAPZ,mBAOZC,EAPY,KAOPZ,EAPO,OAQKW,mBAAS,SARd,mBAQZE,EARY,KAQNX,EARM,KA+HnB,OACE,sBAAKjB,UAAU,YAAf,UACE,cAAC,EAAD,CAAUF,SAAUA,EAAUC,YAAaA,IAC3C,cAAC,EAAD,CAAKgB,OAAQA,IACb,cAAC,EAAD,CAAME,QAASA,IACf,cAAC,EAAD,CAAUE,YAxHM,WAClB,IAAIK,EAAJ,CAGAA,GAAa,EACbC,GAAQ,EAKR,IAFA,IAAII,EAAQ,IAAIC,KACVC,EAAQ,GACLC,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAME,KAAKJ,EAAMK,mBAAmB,KAAM,CAAEC,IAAK,UAAWC,MAAO,UAAWC,KAAM,aACpFR,EAAMS,QAAQT,EAAMU,UAAY,GAGlC,IACIC,EADAC,EAAU,EAIRC,EAAO,SAACC,GAAD,OAAkB,IAAIC,SAAQ,SAACC,GAAatB,EAAQuB,WAAWD,EAAQF,OAGhFI,EAAU,IAAIC,OAAOC,aAczB,IAAKnD,EAASc,OAEZ,OADAsC,QAAQC,KAAK,yBACN,mCAET,uCAAC,oEAAAC,EAAA,sDACCF,QAAQG,IAAR,iDAPSC,EAOgDb,MAP1B,IAAM,YAAKa,GAASC,OAAO,GAAKD,EAAOE,WAOtE,uCAA0G,aAAc,gBAAiB,cAEzIhB,EAAkB,EAHnB,cAKqB1C,GALrB,4DAKU2D,EALV,SAMOhC,EANP,wBAOKiC,aAAanC,GACbC,GAAa,EARlB,2CAWoBO,GAXpB,8DAWY4B,EAXZ,SAYSlC,EAZT,wBAaOiC,aAAanC,GACbC,GAAa,EAdpB,oCAiBK0B,QAAQG,IAAR,YAAiBI,EAAjB,gBAAgCE,GAAQ,gBAAiB,iBACrDC,EAAW,kFAAoFH,EAAU,SAAWE,EACpHE,OAnBT,sBAqBwBC,MAAMF,GArB9B,YAqBOC,EArBP,QAsBqBE,GAtBrB,uBAsB+B,IAAIC,MAAMH,EAASI,YAtBlD,kEAwBOf,QAAQgB,KAAK,KAAIC,SACjBjB,QAAQgB,KAAK,mCAzBpB,kBA0Bc,mCA1Bd,yBA4B8BL,EAASO,OA5BvC,iBA4BWC,EA5BX,EA4BWA,SA5BX,cA8ByBA,GA9BzB,8DA8BcC,EA9Bd,SA+BW7C,EA/BX,wBAgCSiC,aAAanC,GACbC,GAAa,EAjCtB,6BAoCqB+C,EAAgID,EAAtIX,KAAiBa,EAAqHF,EAArHE,QAASf,EAA4Ga,EAA5Gb,QAASgB,EAAmGH,EAAnGG,mBAAoBC,EAA+EJ,EAA/EI,yBAA0BC,EAAqDL,EAArDK,yBAA0BC,EAA2BN,EAA3BM,SAASC,EAAkBP,EAAlBO,iBACtGlD,IAAkB,UAATC,EAAoB8C,EAA2BC,GAA4B,IACxGzB,QAAQG,IAAI,uEAAwE,iBACpFH,QAAQG,IAAR,kBAAuBb,IAAvB,cAA8CZ,EAA9C,uBAAiEiD,IACjE3B,QAAQG,IAAI,qEAAsE,iBAClFH,QAAQG,IAAI,WAAakB,EAAW,iBACpCrB,QAAQG,IAAI,mBAAqBuB,EAAS,eAC1C1B,QAAQG,IAAI,YAAcmB,EAAU,eAAiBf,EAAS,iBAC9DP,QAAQG,IAAI,uBAAwBoB,GACpCvB,QAAQG,IAAI,kCAAmCqB,GAC/CxB,QAAQG,IAAI,kCAAmCsB,GAC/CzB,QAAQG,IAAI,yEAA0E,iBACtFyB,EAAK,MAhDd,kKAmDWpC,EAAK,KAnDhB,QAoDKgB,aAAanC,GApDlB,2RAuDC2B,QAAQG,IAAR,+EAA4F,cACvF5B,EAxDN,kCAyDSiB,EAAK,KAzDd,QA0DGgB,aAAanC,GA1DhB,QA4DKzB,EAASc,QAAUmB,EAAMnB,QAAUe,GAAOC,IAASH,GACrDD,GAAa,EACbuD,MAEArB,aAAanC,GACbC,GAAa,GAjEhB,kCANS,IAAC8B,IAMV,+DAAD,SAAgByB,IAAhB,sCAAgBA,EAAhB,KAjBA,SAASD,IAAsB,IAAjBE,EAAgB,uDAAL,IACnBC,EAAalC,EAAQmC,mBACrBC,EAAOpC,EAAQqC,aACnBH,EAAWI,QAAQF,GACnBA,EAAKE,QAAQtC,EAAQuC,aACrBL,EAAWM,UAAU/E,MAAQ,IAC7ByE,EAAWO,MAAMzC,EAAQ0C,aACzBR,EAAWS,KAAK3C,EAAQ0C,YAAeT,EAAW,OA0Fd5D,YAVpB,WAClBK,GAAQ,SC7HZkE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.6f3dfc68.chunk.js","sourcesContent":["// import { useState, useEffect } from 'react';\r\nimport \"./Pincodes.css\";\r\n\r\nconst Pincodes = ({ pincodes, setPincodes }) => {\r\n    const pincodesHandler = (e) => {\r\n        const pincodes = e.target.value;\r\n        let pincodesArray = pincodes.trim().split(/\\D+/)\r\n        !pincodesArray[0] && pincodesArray.shift()\r\n        !pincodesArray[pincodesArray.length - 1] && pincodesArray.pop()\r\n        setPincodes(pincodesArray)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pincodes\">\r\n            <input type=\"text\" defaultValue=\"671531, 671316\" className=\"pincodes-text\" placeholder=\"Pincodes...\" onChange={pincodesHandler} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pincodes;","// import { useState, useEffect } from 'react';\r\nimport \"./Age.css\";\r\n\r\nconst Age = ({ setAge }) => {\r\n    return (\r\n        <div className=\"age\">\r\n            <select className=\"age-select\" onChange={(e) => setAge(e.target.value)}>\r\n                <option value=\"18\">18</option>\r\n                <option value=\"40\">40</option>\r\n                <option value=\"45\">45</option>\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Age;","// import { useState, useEffect } from 'react';\r\nimport \"./Dose.css\";\r\n\r\nconst Dose = ({ setDose }) => {\r\n    return (\r\n        <div className=\"dose\">\r\n            <select className=\"dose-select\" onChange={(e) => setDose(e.target.value)}>\r\n                <option value=\"FIRST\">FIRST</option>\r\n                <option value=\"SECOND\">SECOND</option>\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dose;","// import { useState, useEffect } from 'react';\r\nimport \"./Commands.css\";\r\n\r\nconst Commands = ({ findHandler, stopHandler }) => {\r\n    return (\r\n        <div className=\"commands\">\r\n            <div className=\"buttons\">\r\n                <button className=\"find-button\" onClick={findHandler}>Find</button>\r\n                <button className=\"stop-button\" onClick={stopHandler}>Stop</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Commands;\r\n","import React, { useState } from 'react';\nimport './Dashboard.css';\nimport { default as Pincodes } from './components/Pincodes';\nimport { default as Age } from './components/Age';\nimport { default as Dose } from './components/Dose';\nimport { default as Commands } from './components/Commands';\n\nfunction Dashboard() {\n\n  let clear\n  let processing = false\n  let abort = false\n\n  const [pincodes, setPincodes] = useState([671531, 671316]);\n  const [age, setAge] = useState(18);\n  const [dose, setDose] = useState(\"FIRST\");\n\n  // document.body.requestFullscreen()\n\n  const findHandler = () => {\n    if (processing) {\n      return\n    }\n    processing = true\n    abort = false\n\n    // PICKS DATES FROM TODAY UPTO 8 DAYS\n    let today = new Date()\n    const dates = []\n    for (let i = 0; i < 3; i++) {\n      dates.push(today.toLocaleDateString('nl', { day: \"2-digit\", month: \"2-digit\", year: \"numeric\" }))\n      today.setDate(today.getDate() + 1)\n    }\n\n    let counter = 1\n    let session_counter\n\n    // DELAY FUNCTION\n    const wait = (milliseconds) => new Promise((settle) => { clear = setTimeout(settle, milliseconds) })\n\n    // GENERATES BEEP SOUND\n    var context = new window.AudioContext()\n    function beep(duration = 500) {\n      var oscillator = context.createOscillator()\n      var gain = context.createGain()\n      oscillator.connect(gain)\n      gain.connect(context.destination)\n      oscillator.frequency.value = 800\n      oscillator.start(context.currentTime)\n      oscillator.stop(context.currentTime + (duration / 1000))\n    }\n\n    // PADDING\n    let pad = (number) => (number <= 999 ? `00${number}`.slice(-3) : number.toString())\n\n    if (!pincodes.length) {\n      console.info('Missing \"pincodes\"...')\n      return \"https://github.com/vipinkrishna\"\n    }\n    (async function vaccineFinder() {\n      console.log(`%c############################[%cPASS ${pad(counter++)}%c]################################`, 'color: red', 'color: yellow', 'color: red')\n\n      session_counter = 1\n\n      for (let pincode of pincodes) {\n        if (abort) {\n          clearTimeout(clear)\n          processing = false\n          break\n        }\n        for (let date of dates) {\n          if (abort) {\n            clearTimeout(clear)\n            processing = false\n            break\n          }\n          console.log(`%c${pincode} - %c${date}`, 'color: yellow', 'color: orange')\n          let endpoint = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode=\" + pincode + \"&date=\" + date\n          let response\n          try {\n            response = await fetch(endpoint)\n            if (!response.ok) throw new Error(response.statusText)\n          } catch (err) {\n            console.warn(err.message)\n            console.warn('Check Pincode and try again...!')\n            return \"https://github.com/vipinkrishna\"\n          }\n          let { sessions } = await response.json()\n\n          for (let session of sessions) {\n            if (abort) {\n              clearTimeout(clear)\n              processing = false\n              break\n            }\n            const { date: datestamp, address, pincode, available_capacity, available_capacity_dose1, available_capacity_dose2, vaccine, min_age_limit } = session\n            if (min_age_limit === age && ((dose === \"FIRST\") ? available_capacity_dose1 : available_capacity_dose2) > 0) {\n              console.log('\\n%c================================================================', 'color: yellow')\n              console.log(`SESSION:${session_counter++} - ${dose} DOSE - AGE:${min_age_limit}`)\n              console.log('%c================================================================', 'color: yellow')\n              console.log(\"Date: %c\" + datestamp, 'color: orange')\n              console.log(\"Vaccine Name: %c\" + vaccine, 'color: cyan')\n              console.log(\"Address: \" + address + \" Pincode: %c\" + pincode, 'color: yellow')\n              console.log(\"Available Capacity: \", available_capacity)\n              console.log(\"Available Capacity for DOSE 1: \", available_capacity_dose1)\n              console.log(\"Available Capacity for DOSE 2: \", available_capacity_dose2)\n              console.log(\"%c================================================================\\n\\n\", 'color: yellow')\n              beep(2000)\n            }\n          }  //FOR\n          await wait(200)  //SESSION\n          clearTimeout(clear)\n        }  //FOR\n      }  //FOR\n      console.log(`%c######################################################################\\n\\n`, 'color: red')\n      if (!abort) {\n        await wait(6000)  //PASS\n        clearTimeout(clear)\n      }\n      if (pincodes.length && dates.length && age && dose && !abort) {\n        processing = true\n        vaccineFinder()\n      } else {\n        clearTimeout(clear)\n        processing = false\n      }\n    })()\n  }\n\n  const stopHandler = () => {\n    abort = true\n    // window.location.reload()\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <Pincodes pincodes={pincodes} setPincodes={setPincodes} />\n      <Age setAge={setAge} />\n      <Dose setDose={setDose} />\n      <Commands findHandler={findHandler} stopHandler={stopHandler} />\n    </div>\n  );\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Dashboard from './Dashboard';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Dashboard />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}
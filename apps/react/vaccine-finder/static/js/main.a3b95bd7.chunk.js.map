{"version":3,"sources":["components/Pincodes.js","components/Age.js","components/Dose.js","components/Commands.js","components/Card.js","components/FindResults.js","Dashboard.js","index.js"],"names":["Pincodes","pincodes","setPincodes","className","type","defaultValue","placeholder","onChange","e","pincodesArray","target","value","trim","split","shift","length","pop","Age","setAge","Dose","setDose","Commands","findHandler","onClick","Card","item","datestamp","name","address","pincode","min_age_limit","vaccine","available_capacity_dose1","available_capacity_dose2","FindResults","data","map","key","Dashboard","useState","findData","setFindData","age","dose","processing","setProcessing","wait","milliseconds","Promise","settle","setTimeout","console","log","context","window","AudioContext","dates","today","Date","i","push","toLocaleDateString","day","month","year","setDate","getDate","upcomingDates","vaccineFinder","beep","duration","oscillator","createOscillator","gain","createGain","connect","destination","frequency","start","currentTime","stop","a","date","endpoint","response","fetch","ok","Error","statusText","warn","message","json","sessions","session","prevState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3b95bd7.chunk.js","sourcesContent":["// import { useState, useEffect } from 'react';\r\nimport \"./Pincodes.css\";\r\n\r\nconst Pincodes = ({ pincodes, setPincodes }) => {\r\n    const pincodesHandler = (e) => {\r\n        const pincodes = e.target.value;\r\n        let pincodesArray = pincodes.trim().split(/\\D+/)\r\n        !pincodesArray[0] && pincodesArray.shift()\r\n        !pincodesArray[pincodesArray.length - 1] && pincodesArray.pop()\r\n        setPincodes(pincodesArray)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pincodes\">\r\n            <input type=\"text\" defaultValue=\"671531, 671316\" className=\"pincodes-text\" placeholder=\"Pincodes...\" onChange={pincodesHandler} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Pincodes;","// import { useState, useEffect } from 'react';\r\nimport \"./Age.css\";\r\n\r\nconst Age = ({ setAge }) => {\r\n    return (\r\n        <div className=\"age\">\r\n            <select className=\"age-select\" onChange={(e) => setAge(e.target.value)}>\r\n                <option value=\"18\">18</option>\r\n                <option value=\"40\">40</option>\r\n                <option value=\"45\">45</option>\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Age;","// import { useState, useEffect } from 'react';\r\nimport \"./Dose.css\";\r\n\r\nconst Dose = ({ setDose }) => {\r\n    return (\r\n        <div className=\"dose\">\r\n            <select className=\"dose-select\" onChange={(e) => setDose(e.target.value)}>\r\n                <option value=\"FIRST\">FIRST</option>\r\n                <option value=\"SECOND\">SECOND</option>\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dose;","// import { useState, useEffect } from 'react';\r\nimport \"./Commands.css\";\r\n\r\nconst Commands = ({ findHandler }) => {\r\n    return (\r\n        <div className=\"commands\">\r\n            <button className=\"find-button\" onClick={findHandler}>Find</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Commands;\r\n","// import { useState, useEffect } from 'react';\r\nimport \"./Card.css\";\r\n\r\nconst Card = ({ item }) => {\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"date\"><label>Date: </label>{item.datestamp}</div>\r\n            <div className=\"name\"><label>Name: </label>{item.name}</div>\r\n            <div className=\"address\"><label>Address: </label>{item.address}</div>\r\n            <div className=\"pin\"><label>Pin: </label>{item.pincode}</div>\r\n            <div className=\"ageLimit\"><label>Age: </label>{item.min_age_limit}</div>\r\n            <div className=\"vaccine\"><label>Vaccine: </label>{item.vaccine}</div>\r\n            <div className=\"dose1\"><label>First Dose: </label>{item.available_capacity_dose1}</div>\r\n            <div className=\"dose2\"><label>Second Dose: </label>{item.available_capacity_dose2}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;","// import { useState, useEffect } from 'react';\r\nimport \"./FindResults.css\";\r\nimport { default as Card } from './Card';\r\n\r\nconst FindResults = ({ data }) => {\r\n    return (\r\n        <div className=\"findData\">\r\n            {\r\n                data.map((item, key) => {\r\n                    // console.log(\"xxx: \", item, key)\r\n                    return <Card item={item} key={key} />\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FindResults;","import React, { useState } from 'react';\nimport './Dashboard.css';\nimport { default as Pincodes } from './components/Pincodes';\nimport { default as Age } from './components/Age';\nimport { default as Dose } from './components/Dose';\nimport { default as Commands } from './components/Commands';\nimport { default as FindResults } from './components/FindResults';\n\nfunction Dashboard() {\n  const [findData, setFindData] = useState([]);\n\n\n  const [pincodes, setPincodes] = useState([671531, 671316]);\n  const [age, setAge] = useState(18);\n  const [dose, setDose] = useState(\"FIRST\");\n\n  const [processing, setProcessing] = useState(false);\n\n\n  // DELAY FUNCTION\n  const wait = (milliseconds) => new Promise((settle) => { setTimeout(settle, milliseconds) })\n\n  // PICKS DATES FROM TODAY UPTO 3 DAYS\n  function upcomingDates() {\n    let today = new Date()\n    const dates = []\n    for (let i = 0; i < 3; i++) {\n      dates.push(today.toLocaleDateString('nl', { day: \"2-digit\", month: \"2-digit\", year: \"numeric\" }))\n      today.setDate(today.getDate() + 1)\n    }\n    return dates\n  }\n\n\n  function findHandler() {\n    if (processing) {\n      console.log('Processing!')\n      return\n    }\n    setProcessing(true)\n\n    console.log('Find Starts!')\n\n    setFindData([])\n\n    // GENERATES BEEP SOUND\n    var context = new window.AudioContext()\n    function beep(duration = 500) {\n      var oscillator = context.createOscillator()\n      var gain = context.createGain()\n      oscillator.connect(gain)\n      gain.connect(context.destination)\n      oscillator.frequency.value = 500\n      oscillator.start(context.currentTime)\n      oscillator.stop(context.currentTime + (duration / 1000))\n    }\n\n    const dates = upcomingDates()\n\n    if (!pincodes.length) {\n      return\n    }\n    async function vaccineFinder() {\n      for (let pincode of pincodes) {\n        for (let date of dates) {\n          let endpoint = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode=\" + pincode + \"&date=\" + date\n          let response\n          try {\n            response = await fetch(endpoint)\n            if (!response.ok) throw new Error(response.statusText)\n          } catch (err) {\n            console.warn(err.message)\n            return\n          }\n          let { sessions } = await response.json()\n\n          for (let session of sessions) {\n            const { date: datestamp, name, address, pincode, available_capacity_dose1, available_capacity_dose2, vaccine, min_age_limit } = session\n            if (min_age_limit === age && ((dose === \"FIRST\") ? available_capacity_dose1 : available_capacity_dose2) === 0) {\n              setFindData(prevState => [...prevState, { datestamp, pincode, name, address, vaccine, min_age_limit, available_capacity_dose1, available_capacity_dose2 }])\n              beep(1000)\n              await wait(1000)\n            }\n          }\n          await wait(100)\n        }\n      }\n      setProcessing(false)\n      console.log('Find Done! Find Again...')\n    }\n    pincodes.length && dates.length && age && dose && vaccineFinder()\n  }\n\n  return (\n    <>\n      <div className=\"dashboard\">\n        <Pincodes pincodes={pincodes} setPincodes={setPincodes} />\n        <Age setAge={setAge} />\n        <Dose setDose={setDose} />\n        <Commands findHandler={findHandler} />\n      </div>\n      <div className=\"findResults\">\n        <FindResults data={findData} />\n      </div>\n    </>\n  );\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Dashboard from './Dashboard';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Dashboard />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}